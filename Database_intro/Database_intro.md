# DATABASE

## 데이터베이스(DB)란?
> 여러 사람이 공유해 사용할 목적으로 통합하여 관리되는 데이터의 모음

## DB를 사용하는 이유
- 데이터 타입을 지정해서 선언, 삽입한다.(Java에서 변수 선언 시 데이터 타입을 지정하는 것과 원리가 동일하다)
- 식별자(Key), 인덱스(Index)를 이용한다.
- 대부분의 **DB System은 Server-Client 구조**를 이용한다.
- DB를 사용하려면 반드시 인증 시스템을 거쳐야 한다.(보안)
- 데이터베이스에서 검색과 분석에 사용되는 기본 사용 방법은 데이터베이스 종류와 상관없이 동일

## DB의 종류

### 관계형 DB (Relational DB)
관계형 DB란 : 하나 이상의 테이블로 이루어지며 서로 연결된 데이터를 가지고 있음 관계형 데이터베이스는 SQL을 통해 제어 가능

### 테이블의 구성 요소
- Column(컬럼) = Tuple = 속성 = 세로줄
- Record = attribute = row = 가로줄
- 모든 테이블은 고유의 이름으로 구분
#### 종류
- Oracle
- MySQL
- MariaDB(MySQL과 쌍둥이)
- Microsoft SQL Server
- PostareSQL
- IBM DB2
- SQLite 등

#### 엑셀과 관계형 DB의 차이점
Excle은 자료형에 관계 없이 삽입 가능하다.(추출할 때 데이터 타입을 일일이 체크해야해서 까다롭다.)
관계형 DB는 지정한 자료형만 삽입할 수 있다.
관계형 DB는 SQL이라는 언어를 활용해서 다룬다.
공통점 : 표를 기반으로 한다.
관계형 DB는 표(테이블)를 가지고 있다.

#### 개념
Structured : 구조화 되어 있다. (tuple과 attribute이 있는 표)
표를 만드려면 Base가 필요하다.

#### 로컬 환경에서 MySQL 사용하기

##### MySQL Server
- Clinet를 이용해서 Server에 접속하려면 Hostname, ID와 Password가 필요하다.

##### MySQL Client
- MySQL Monitor를 이용하여 Server에 connect하기(bitnami의 WAMP를 설치하여 이용)
- MySQL workbench : GUI 방식으로 MySQL을 이용할 수 있음.


## 중복 관리하기
- 중복이 발생하는 컬럼을 떼어내어 새로운 테이블로 만든다.
- 외래키를 기준으로 join하여 사용한다.
- 정보를 보관할 땐 정보를 나누어 효율적으로 보관하면서도, 검색할 땐 한번에 합쳐져있는 것처럼 효율적으로 검색한다
- join : 두 개의 테이블을 합침
- A는 B를 알고, B는 A를 모를 때 A와 B를 join한다면, B가 A의 부모(parent) 테이블이다.

> 비관계형 DB

### 그래프형 DB (Graph DB)

### 계층형 DB

### 문서형 DB (Document DB)

--------------------------------------------------------------------------------------------------------------------------------------

## SQL(구조화된 질의하는 언어)

##### Structured
##### Query
##### Language
- 프로그래밍 언어에 SQL을 활용하여 자동화할 수 있다.

##### SQL이 할 수 있는 것
- 데이터 검색
- 데이터 삽입
- 데이터 수정
- 데이터 삭제
- 데이터베이스 생성
- 테이블 생성
- 이 외 많은 것들…

### CREATE
```
CREATE TABLE 테이블명(attribute이름 자료형 null여부 추가조건 등);
```
--------------------------------------------------------------------------------------------------------------------------------------

### READ
```
SELECT 어트리뷰트명 FROM 테이블명 WHERE 상세조건;
```
--------------------------------------------------------------------------------------------------------------------------------------

### UPDATE
#### INSERT
```
INSERT INTO 테이블명 (어트리뷰트 이름) VALUES(값);
```

#### UPDATE
```
UPDATE 테이블명 SET 바꾸려는 칼럼이름=" " WHEHE 애트리뷰트이름=" ";
```
--------------------------------------------------------------------------------------------------------------------------------------

### DELETE
```
DELETE FROM 테이블명 WHERE 필드이름=데이터값
```
```
Truncate 테이블명 : 테이블 전체 삭제
```
--------------------------------------------------------------------------------------------------------------------------------------

## DB 공부방법

### CRUD 사용방법을 체크하기
- Create
- Read
- Update
- Delete

## 추가정보
- DB 랭킹 사이트 : https://db-engines.com/en/ranking
- 네트워크에 접속된 각각의 장치 : host
- port : 약속된 서버마다의 포트 번호가 존재한다.(웹:80, MySQL:3306)
- 스키마(scheme) or database : 테이블의 집합체(바탕)
- Type : enum('T', 'F') : enumerate, 단어를 넣어놓고 그 중 하나만 사용할 수 있다.

--------------------------------------------------------------------------------------------------------------------------------------
# 데이터 검색

## 테이블에서 데이터 검색하기

> 테이블의 구조 확인
```
DESC Employees
```
- Describe의 약자

> SELECT 문의 기본 문법
```
SELECT(명령) title, author(검색할 컬럼) FROM book(테이블);
```

> DISTINCT 문의 기본 문법
```
SELECT DISTINCT title, author FROM book;
```
- 뒤에 나오는 컬럼의 중복을 제거하고 보여준다.
- 검색할 데이터 앞에 DISTINCT를 입력하여 사용
- **주의!** _DISTINCT 뒤에 2개 이상의 컬럼을 적으면_, 한 쪽 컬럼에 중복이 있어도 다른 쪽 컬럼의 값이 다르면 다르게 취급

## 조건을 추가하여 검색하기

> 조건을 만드는 방법 
```
WHEHE
```
- 검색하고자 하는 데이터의 조건을 설정할 수 있는 명령

> SELECT/WHERE문의 기본 문법
```
SELECT * FROM book WHERE title = '돈키호테';
```
- 제목이 '돈키호테'인 책 데이터를 book 테이블에서 검색


## 여러 개의 조건을 추가하기

### 비교 연산자
- />, <, >=, <=, =, !=

> 비교 연산자를 이용하여 검색
```
SELECT *
FROM score
WHERE korean >= 90;
```

### 복합 조건 연산자
- AND, &&
    - A AND B
    - A && B : A 그리고 B를 모두 만족하는 값
- OR, ||
    - A OR B
    - A || B : A 또는 B인 값
- NOT, !
    - NOT A
    - !A : A가 아닌 값

> 복합 조건 연산자를 이용하여 검색
```
SELECT *
FROM score
WHERE korean >= 90 OR math > 80;
```

### 기타 연산자
- BETWEEN
    - A BETWEEN 10 AND 20 : A가 10과 20 사이에 포함된 값
- IN
    - A IN B : B에 A가 포함된 값
- NOT IN 
    - A NOT IN B : B에 A가 포함되지 않은 값

> 기타 연산자를 이용하여 검색
```
SELECT *
FROM score
WHERE math BETWEEN 80 AND 90;
```
