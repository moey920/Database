# NoSQLì´ë€?

MongoDBë¥¼ ë³¸ê²©ì ìœ¼ë¡œ ìµíˆê¸° ì „ì— NoSQLì´ë¼ëŠ” ê°œë…ì— ëŒ€í•´ ë¨¼ì € ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ê¸°ì¡´ì— ì—¬ëŸ¬ë¶„ê»˜ì„œ ì•Œê³  ê³„ì‹œê³  ì‚¬ìš©í•˜ì…¨ë˜ ëŒ€ë¶€ë¶„ì˜ SQLì€ NoSQLì´ ì•„ë‹™ë‹ˆë‹¤. NoSQLì€ **Not Only** SQL í˜¹ì€ Not SQLì…ë‹ˆë‹¤. í•˜ì§€ë§Œ, NoSQL ëœ»ì€ ë”± í•œ ê°€ì§€ ì¢…ë¥˜ì˜ DBë§Œì„ ëœ»í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì´ˆì½œë¦¿ê³¼ Not ì´ˆì½œë¦¿ì„ ìƒê°í•´ë´…ì‹œë‹¤. ì´ˆì½œë¦¿ì˜ ì¢…ë¥˜ëŠ” í•œì •ì ì´ì§€ë§Œ Not ì´ˆì½œë¦¿ì€ ë‹¤ì–‘í•œ ìŒì‹ê³¼ ì¢…ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤. SQL DBë“¤ì€ MySQL, SQLite, PostgreSQL ë“± DBë§ˆë‹¤ ì¡°ê¸ˆì”© ë‹¤ë¥´ê² ì§€ë§Œ, ê²°êµ­ì—ëŠ” SQLì´ë¼ëŠ” ì¹´í…Œê³ ë¦¬ ì•ˆì— ìˆìŠµë‹ˆë‹¤. ë°˜ëŒ€ë¡œ NoSQLì€ DBë§ˆë‹¤ ì„œë¡œ ê°ê¸° ë‹¤ë¥¸ ì¢…ë¥˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

NoSQLì—ëŠ” í¬ê²Œ 3ê°€ì§€ ì¢…ë¥˜ì˜ DBê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

1. Document DB **(MongoDB)**
Documentí˜•íƒœë¡œ ë°ì´í„°ê°€ ì €ì¥ë©ë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ë‚˜ì˜¤ëŠ” **DocumentëŠ” JSON, XMLë“±ì„ ì¹­í•˜ë©°** Column Orientedì™€ ê°™ì´ ìŠ¤í‚¤ë§ˆê°€ ìœ ë™ì ì…ë‹ˆë‹¤.

2. Key-Value DB **(DynamoDB, Redis)**
**Keyì™€ Value**ë¡œ ì´ë£¨ì–´ì§„ ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ í˜•íƒœë¡œ valueì— String, Integer, List, Hash ë“±ì˜ ê°€ë³¸ ìë£Œí˜•ì´ í•´ë‹¹ë©ë‹ˆë‹¤. ì´ëŸ° ë°ì´í„° êµ¬ì¡° ì†ë„ëŠ” ë¹ ë¥´ê³ , ë¶„ì‚°ì €ì¥ í™˜ê²½ì— ìš©ì´í•˜ì—¬ **keyì— ëŒ€í•œ ì—‘ì„¸ìŠ¤ ì†ë„ëŠ” ë¹ ë¥´ì§€ë§Œ ê²€ìƒ‰ì—ëŠ” ì·¨ì•½**í•˜ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.

3. Graph DB **(Neo4j)**
ë°ì´í„°ë¥¼ **ë…¸ë“œ ê°„ì˜ ê´€ê³„**ë¡œ í‘œí˜„í•œ DBì…ë‹ˆë‹¤.

* ë°ì´í„° ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•˜ì§€ ì•ŠëŠ”ë‹¤.

RDB(ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤)ê°€ ë°ì´í„° ê´€ê³„ë¥¼ Foreign Key ë“±ìœ¼ë¡œ ì •ì˜í•˜ê³  ì´ìš©í•´ join ë“± ì—°ì‚°ì„ í•œë‹¤ê³  ê°€ì •ì„ í•œë‹¤ë©´, NoSQLì€ ë°ì´í„° ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°ì´í„° í…Œì´ë¸”ì€ ê·¸ì € í•˜ë‚˜ì˜ ë°ì´ë¸”ì´ë©° ê° í…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•˜ì§€ ì•Šê³  ì¼ë°˜ì ìœ¼ë¡œ í…Œì´ë¸” ê°„ì˜ join ë˜í•œ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

## MongoDBì˜ íŠ¹ì§•

- ê³ ì •ëœ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆë¥¼ ê°–ì§€ ì•ŠìŠµë‹ˆë‹¤.
RDBì™€ ë‹¤ë¥´ê²Œ í…Œì´ë¸”ì˜ ìŠ¤í‚¤ë§ˆê°€ ìœ ë™ì ì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” columnì€ ê°ê¸° ë‹¤ë¥¸ ì´ë¦„ê³¼ ë‹¤ë¥¸ ë°ì´í„° íƒ€ì…ì„ ê°–ëŠ” ê²ƒì´ í—ˆìš©ë©ë‹ˆë‹¤.

- ë¬¸ì„œì§€í–¥(Document-Oriented) ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤.
MongoDBëŠ” ìœ ì—°í•˜ë©° í™•ì¥ì„±ì´ ë†’ì€ ë¬¸ì„œ ì§€í–¥ì˜ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. RDBì—ì„œ ì‚¬ìš©í–ˆë˜ ìŠ¤í‚¤ë§ˆì˜ ì œì•½ì´ ì—†ê³  ììœ ë¡œìš°ë©´ BSON(Binary JSON)í˜•íƒœë¡œ ê° ë¬¸ì„œê°€ ì €ì¥ë©ë‹ˆë‹¤. ë˜í•œ, ê¸°ì¡´ RDBì—ì„œ ì§€ì›í•˜ì§€ ì•Šì•˜ë˜ í˜•íƒœë¡œë„ ì €ì¥ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. RDBì—ì„œ ì‚¬ìš©í–ˆë˜ JOIN ê¸°ëŠ¥ì´ í•„ìš” ì—†ì´ ì´í•´í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ’¡ ê²°êµ­, NoSQLì´ SQLë³´ë‹¤ ì¢‹ê³  ë‚˜ì˜ê³ ê°€ ì•„ë‹ˆë¼ ì‚¬ìš©í•˜ëŠ” ìš©ë„ì— ë”°ë¼ ì„ íƒí•˜ë©´ ë©ë‹ˆë‹¤.


## MongoDBë€?

> MongoDBëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¬¸ì„œì§€í–¥(Document Oriented) í¬ë¡œìŠ¤ í”Œë«í¼ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤.

MongoDBëŠ” ìœ ì—°í•˜ê³  JSONê³¼ ìœ ì‚¬í•œ ë¬¸ì„œë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, í•„ë“œëŠ” ë¬¸ì„œë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©° ì‹œê°„ì— ë”°ë¼ ë°ì´í„° êµ¬ì¡°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŠµë‹ˆë‹¤. (ì»¬ë ‰ì…˜(Collection)ì´ë€ ìš©ë„ê°€ ê°™ê±°ë‚˜ ìœ ì‚¬í•œ ë¬¸ì„œë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ëŠ” ê²ƒ ì…ë‹ˆë‹¤.) ì´ëŸ¬í•œ ì»¬ë ‰ì…˜ì€ ê¸°ì¡´ì˜ SQL DBì˜ í…Œì´ë¸”ì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤. ë¬¸ì„œ(Document)ëŠ” MongoDBë‚´ì— ìˆëŠ” í•˜ë‚˜ì˜ ì‹¤ì œë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í‘œí˜„ì…ë‹ˆë‹¤. ì•„ë˜ ê·¸ë¦¼ì„ ë³´ë©° ë‹¤ì‹œ ê¸€ì„ ì½ì–´ë´…ì‹œë‹¤.

### MongoDBì˜ êµ¬ì¡°

Database - Collection - Document 3ë‹¨ êµ¬ì¡°


1. ë„íë¨¼íŠ¸(Document)
ë„íë¨¼íŠ¸ëŠ” RDBì—ì„œì˜ Row(íŠœí”Œ)ê³¼ ë™ì¼í•œ ê°œë…ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì™€ ê°™ì€ JSON í˜•íƒœì˜ Key-Valueë¡œ ì´ë£¨ì–´ì§„ ë°ì´í„° êµ¬ì¡°ë¥¼ í•˜ë‚˜ì˜ ë„íë¨¼íŠ¸ë¡œ ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. ê° ë„íë¨¼íŠ¸ëŠ” idë¥¼ ê°€ì§€ê³  ìˆëŠ”ë°, ì´ ê°’ì€ ìœ ì¼í•©ë‹ˆë‹¤. (Primary Keyì™€ ë™ì¼í•œ ê°œë…) RDBì²˜ëŸ¼ ìŠ¤í‚¤ë§ˆë¡œ ì •í•´ì§„ ê²ƒì´ ì—†ì–´, ì•„ë˜ ì½”ë“œì—ì„œ id, name, ageë¥¼ ì ê³  phoneNumì´ë‚˜ emailì„ ì¶”ê°€í•˜ì—¬ ë„íë¨¼íŠ¸ë¥¼ ìƒì„±í•´ë„ ë¬¸ì œì—†ì´ ë™ì‘í•©ë‹ˆë‹¤.
```
{
    "id": "aslkf87sdljk", # Primary Keyì™€ ê°™ë‹¤.
    "name": "Elice",
    "age": 12
}
```
2. ì»¬ë ‰ì…˜(Collection)
ì»¬ë ‰ì…˜ì€ ë„íë¨¼íŠ¸ì˜ ê·¸ë£¹ ê°œë…ì…ë‹ˆë‹¤. RDBë¡œ ìƒê°í•œë‹¤ë©´ í…Œì´ë¸”ê³¼ ê°™ì€ ê°œë…ì…ë‹ˆë‹¤. **ë‹¤ë§Œ ë„íë¨¼íŠ¸ì™€ ê°™ì´ ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§€ê³  ìˆì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì§•**ì´ ìˆìŠµë‹ˆë‹¤.

3. ë°ì´í„°ë² ì´ìŠ¤(Database)
ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì»¬ë ‰ì…˜ë“¤ì˜ ë¬¼ë¦¬ì ì¸ ì»¨í…Œì´ë„ˆì´ì ê°€ì¥ ìƒìœ„ ê°œë…ì…ë‹ˆë‹¤. **RDBë¡œ ìƒê°í•œë‹¤ë©´ Databaseì™€ ë™ì¼**í•©ë‹ˆë‹¤.

ìœ„ êµ¬ì¡°ì—ì„œ ë„íë¨¼íŠ¸ëŠ” JSONê³¼ ë¹„ìŠ·í•œ BSON êµ¬ì¡°ë¡œ ë˜ì–´ìˆìŠµë‹ˆë‹¤.

> **BSONì€ Binary JSONì„ ì˜ë¯¸**í•©ë‹ˆë‹¤. JSONì˜ ì¼ë¶€ë¡œ **MongoDBì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ í˜•ì‹**ì…ë‹ˆë‹¤. BSONì€ **Fieldì™€ Value**ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° Keyê°’ê³¼ Valueê°’ì„ ê°€ì§„ **Javaì˜ HashMapê³¼ ìœ ì‚¬**í•©ë‹ˆë‹¤.
```
{
    name: "Elice",
    age: 12,
    status: "InProgress"
    groups: ["Python", "Javascript"]
}
```

| RDB | MongoDB |
|:---:|:---:|
| ë°ì´í„°ë² ì´ìŠ¤(Database) | ë°ì´í„°ë² ì´ìŠ¤(Database) | 
| í…Œì´ë¸”(Table) | ì»¬ë ‰ì…˜(Collection) | 
| íŠœí”Œ(Row) | ë„íë¨¼íŠ¸(Document) | 

â–¶ MongoDB ê³µì‹ í™ˆí˜ì´ì§€ ì†Œê°œê¸€ <https://www.mongodb.com/what-is-mongodb>

----
# MongoDBì˜ CRUD

# 1. MongoDB Create

ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” CRUDë¼ëŠ” ê°œë…ì´ ìˆìŠµë‹ˆë‹¤. Create, Read, Update, Deleteì˜ ì•½ìë¡œ ë°ì´í„° ë² ì´ìŠ¤ì˜ ìë£Œë¥¼ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ëœ»í•©ë‹ˆë‹¤.

MongoDBì—ëŠ” ```create database```ë¼ëŠ” ëª…ë ¹ì–´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. MongoDBëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ëª…ë ¹ì„ ì œê³µí•˜ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. MongoDBì—ì„œëŠ” **ì²˜ìŒì— ì •ì˜ëœ collectionì— ê°’ì„ ì €ì¥í•  ë•Œ MongoDBê°€ ìë™ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±**í•˜ë¯€ë¡œ MongoDBì—ì„œëŠ” ìš°ë¦¬ê°€ **ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤**. ê¸°ì¡´ì˜ SQLì„ ì‚¬ìš©í•˜ì…¨ë˜ ë¶„ë“¤ì´ë¼ë©´ ì´ ë¶€ë¶„ì—ì„œ êµ‰ì¥íˆ ì–´ìƒ‰í•´í•˜ì‹œê³ , ì´ìƒí•´í•˜ì‹¤ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ ìƒì„±ì„ í•´ì•¼ í• ê¹Œìš”?
```
{
    "id" : 10,
    "name"(Field name) : "Elice"(Field value)
}
```


ìœ„ ë„íë¨¼íŠ¸ì˜ **Field nameì€ idì™€ name**ì´ê³ , ê°ê°ì˜ **valueëŠ” 10ê³¼ Elice**ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ **ë„íë¨¼íŠ¸ ë¬¶ìŒì´ MongoDBì—ì„œ collection**ì„ êµ¬ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.

## Database ìƒì„±

MongoDBì—ì„œ ì²«ë²ˆì§¸ ê¸°ë³¸ì ì¸ ë‹¨ê³„ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ë°°ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ëª¨ë“  ì»¬ë ‰ì…˜ì„ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©ë˜ë©´ ì»¬ë ‰ì…˜ì€ ëª¨ë“  ë„íë¨¼íŠ¸ë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

1. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•  í¬íŠ¸ ì—°ê²°í•˜ê¸°

MongoDBì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì€ êµ‰ì¥íˆ ê°„ë‹¨í•©ë‹ˆë‹¤. íŒŒì´ì¬ì—ì„œ MongoDBì™€ ìƒí˜¸ì‘ìš© í•˜ê¸° ìœ„í•´ì„œëŠ” ```pymongo``` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. pymongoë¥¼ importí•œ ë’¤ ì•„ë˜ì˜ ì½”ë“œë¥¼ ì´ìš©í•´ MongoDBë¥¼ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **27017**ì€ MongoDBë¥¼ ì—°ê²°í•  ë•Œ ë””í´íŠ¸ë¡œ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ ë²ˆí˜¸ì…ë‹ˆë‹¤.

```
import pymongo

pymongo.MongoClient("mongodb://localhost:27017/")
```

2. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±í•˜ê¸°

* MongoDBì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì€ êµ‰ì¥íˆ ê°„ë‹¨í•©ë‹ˆë‹¤. ë°”ë¡œ, use ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```
>use  Library
#ìƒì„± ì™„ë£Œ ì‹œ
switched to db Library
```

MongoDBê°€ ì—°ê²°ëœ ê°ì²´ë¥¼ ì´ìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ **ì—°ê²°ëœ ê°ì²´ì˜ ë³€ìˆ˜ëª…ì´ connection**ì´ë¼ê³  í•  ë•Œ, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì˜ ì½”ë“œì²˜ëŸ¼ ì‘ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

```
db = connection["ìƒì„±í•  ë°ì´í„°ë² ì´ìŠ¤"]
```

ë§ˆì°¬ê°€ì§€ë¡œ ì—°ê²°ëœ ê°ì²´ connectionì— ```list_database_names()``` ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë©´ **ìƒì„±ë˜ì–´ ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡**ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì§ì ‘ í™•ì¸í•´ ë³´ë©´ ì¶œë ¥ëœ ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ì— library ë°ì´í„°ë² ì´ìŠ¤ê°€ ì—†ì–´ ì•„ë˜ì²˜ëŸ¼ ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì¶œë ¥ì´ ë©ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— ë‚´ìš©ì´ ì—†ìœ¼ë©´ ì‹¤ì œë¡œ ìƒì„±ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```
['admin', 'config', 'local']
```

## Collection ìƒì„±

MongoDBì—ì„œ ì»¬ë ‰ì…˜ì„ ë§Œë“¤ë ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ë§Œë“¤ë ¤ëŠ” ì»¬ë ‰ì…˜ì˜ ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤. ìœ„ì—ì„œ ìƒì„±í•œ db ë³€ìˆ˜ë¡œ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì˜ ì½”ë“œì²˜ëŸ¼ ì‘ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

```
col = db["ìƒì„±í•  ì»¬ë ‰ì…˜"]
```

ê·¸ë¦¬ê³  ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´ dbì— list_collection_names() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ ì»¬ë ‰ì…˜ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì§ì ‘ í™•ì¸í•´ ë³´ë©´ ì•„ë¬´ê²ƒë„ ì¶œë ¥ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ì»¬ë ‰ì…˜ ì—­ì‹œ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì‹¤ì œë¡œ ìƒì„±ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

1. createCollection()ì‚¬ìš©í•˜ì—¬ ìƒì„±
collectionì„ ìƒì„±í•  ë•ŒëŠ” ```db.createCollection(name, [options])``` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

2. insert() ì‚¬ìš©í•˜ì—¬ ìƒì„±
MongoDBëŠ” documentë¥¼ collectionì— ì‚½ì…í•˜ëŠ” ```insert()``` ëª…ë ¹ì„ ì œê³µí•©ë‹ˆë‹¤.

## ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ì‹¤ìŠµ

```
import pymongo

# ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")

# library ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“œì„¸ìš”.
db = connection['library']

# ì»¬ë ‰ì…˜ ìƒì„±
col = db["books"]

# ë°ì´í„°ë¥¼ ì‚½ì…í•˜ëŠ” ì½”ë“œ: ë°ì´í„°ë² ì´ìŠ¤ê°€ ì˜ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ì„¸ìš”.
data = col.insert_one({ "title": "Harry Potter and the Deathly Hallows", "author": "Joanne Kathleen Rowling","publisher": "Bloomsbury Publishing" ,"date_received": "2017-07-21"})


# ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ì„ reuslt ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•˜ì„¸ìš”..
result = connection.list_database_names()
result2 = db.list_collection_names()

# ê°’ì„ ì˜ ì €ì¥í•˜ì˜€ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
print(result, result2)
```

# 2. MongoDB Find

ì´ë²ˆ ì´ë¡ ì—ì„œëŠ” CRUD ì¤‘ R(Read)íŒŒíŠ¸ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤. ì¿¼ë¦¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¹ì • ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ì¤€ì´ë‚˜ ì¡°ê±´ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

MongoDBëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë„íë¨¼íŠ¸ë¥¼ ê²€ìƒ‰í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” find() ë©”ì†Œë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ì¿¼ë¦¬ ë¬¸ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ë˜í•œ, find() ë©”ì†Œë“œëŠ” êµ¬ì¡°í™”ë˜ì§€ ì•Šì€ ë°©ì‹ìœ¼ë¡œ ëª¨ë“  ë„íë¨¼íŠ¸ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤. (ì¡°ê¸ˆ ë” ë””í…Œì¼í•˜ê²Œ Findí•˜ëŠ” ë°©ë²•ì€ 2ì¥ì—ì„œ ë‹¤ë£¨ê²Œ ë©ë‹ˆë‹¤.)
```
#ë¬¸ë²•
db.COLLECTION_NAME.find()
```
ì €ë²ˆ MongoDB Create ì´ë¡ ì—ì„œ ì˜ˆì‹œë¥¼ ë“¤ì—ˆë˜ ì»¬ë ‰ì…˜ì„ ì°¾ëŠ”ë‹¤ê³  ê°€ì •í•  ë•Œ, ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
db.Book(Collectionëª…).find({})
```
> ëª¨ë“  ì½”ë“œëŠ” MongoDB Javascript ëª…ë ¹ ì…¸ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

## Find One
MongoDBì˜ ì»¬ë ‰ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ì„ íƒí•˜ë ¤ë©´ find_one()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
#ë¬¸ë²•
ì»¬ë ‰ì…˜ì´ë¦„.find_one()
```

## Find All
MongoDBì˜ í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ ì„ íƒí•˜ë ¤ë©´ find()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. find()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ **ì„ íƒ í•­ëª©ì˜ ëª¨ë“  í•­ëª©ì„ ì¶œë ¥**í•©ë‹ˆë‹¤.
```
#ë¬¸ë²•
ì»¬ë ‰ì…˜ì´ë¦„.find()
```

ğŸ’¡ Tip!
> ìœ„ì—ì„œ ë‹¤ë£¨ì—ˆë˜ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ê³ ì í•˜ëŠ” ë°ì´í„°ë¥¼ í˜•ì‹ì ìœ¼ë¡œ ì¶œë ¥í•˜ê³  ì‹¶ì„ ë•Œ **pprint()**ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥í•´ë³´ì„¸ìš”.

## ì½œë ‰ì…˜ì˜ ëª¨ë“  ë°ì´í„° ì¶œë ¥í•˜ê¸°

ì»¬ë ‰ì…˜ ê°ì²´ì— find() ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ë°ì´í„° ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì»¬ë ‰ì…˜.find()ì„ í†µí•´ ë°˜í™˜ë˜ëŠ” ê²ƒì€ MongoDBì˜ Cursorê°ì²´ ì…ë‹ˆë‹¤.

ì´ Cursorê°ì²´ë¥¼ ì´ìš©í•´ì„œ ë°ì´í„°, ì¦‰ ë„íë¨¼íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
import pymongo


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# books ì»¬ë ‰ì…˜ì— ë“¤ì–´ìˆëŠ” ì±…ë“¤ì„ ì¶œë ¥í•˜ì„¸ìš”.
for doc in col.find() :
    print(doc)
```

## ë°ì´í„° ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥í•˜ê¸°(íŒŒì´ì¬ pprint ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìš©)
```
import pymongo
from pprint import pprint


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# pprintë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥í•˜ì„¸ìš”.

for doc in col.find() :
    pprint(doc)
```

> ê²°ê³¼
```
{'_id': ObjectId('600a2ce81c88a6828dc0daca'),
 'author': 'William Shakespeare',
 'date_received': '2012-04-01',
 'title': 'Romeo and Juliet'}
{'_id': ObjectId('600a2ce81c88a6828dc0dacb'),
 'author': 'Miguel de Cervantes Saavedra',
 'date_received': '2015-03-31',
 'title': 'Don Quixote'}
{'_id': ObjectId('600a2ce81c88a6828dc0dacc'),
 'author': 'Antoine de Saint-Exupery',
 'date_received': '2018-12-21',
 'title': 'The Little Prince'}
{'_id': ObjectId('600a2ce81c88a6828dc0dacd'),
 'author': 'Joanne Kathleen Rowling',
 'date_received': '2017-06-26',
 'publisher': 'Bloomsbury Publishing',
 'title': "Harry Potter and the Philosopher's Stone"}
{'_id': ObjectId('600a2ce81c88a6828dc0dace'),
 'author': 'John Ronald Reuel Tolkien',
 'date_received': '2014-07-29',
 'publisher': 'Allen & Unwin',
 'title': 'The Lord of the Rings'}
```


# MongoDB Insert

ìƒì„±ëœ ì»¬ë ‰ì…˜ì— ë„íë¨¼íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì¥ í¬ê²Œ 3ê°€ì§€ ì…ë‹ˆë‹¤. 
insert(), insertOne(), insertMany() ë¡œ 3ê°€ì§€ì…ë‹ˆë‹¤.

## 1. ```insert_one()``` ë©”ì†Œë“œ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•˜ê¸°

```
#ë¬¸ë²•
collection.insert_one( ì»¬ë ‰ì…˜ì— ì‚½ì…í•  ë„íë¨¼íŠ¸ í˜¹ì€ ë³€ìˆ˜ ) 
```

```
#ì˜ˆì‹œ
mycol = mydb["customers"]

mydict = { "name": "John", "address": "Highway 37" }

x = mycol.insert_one(mydict)
```

## 2. ```insert_many()```ë©”ì†Œë“œ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•˜ê¸°

```
#ë¬¸ë²•
collection.insert_many( ì»¬ë ‰ì…˜ì— ì‚½ì…í•œ ë„íë¨¼íŠ¸ í˜¹ì€ ë³€ìˆ˜)
```

```
#ì˜ˆì‹œ
mycol = mydb["customers"]

mylist = [
  { "name": "Amy", "address": "Apple st 652"},
  { "name": "Hannah", "address": "Mountain 21"},
  { "name": "Michael", "address": "Valley 345"},
  { "name": "Sandy", "address": "Ocean blvd 2"},
  { "name": "Betty", "address": "Green Grass 1"},
  { "name": "Richard", "address": "Sky st 331"},
  { "name": "Susan", "address": "One way 98"},
  { "name": "Vicky", "address": "Yellow Garden 2"},
  { "name": "Ben", "address": "Park Lane 38"},
  { "name": "William", "address": "Central st 954"},
  { "name": "Chuck", "address": "Main Road 989"},
  { "name": "Viola", "address": "Sideway 1633"}
]

x = mycol.insert_many(mylist)
```

## ë°ì´í„° ì‚½ì…í•˜ê¸°

ì±… ë°ì´í„°ë¥¼ ì‚½ì…í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì²˜ëŸ¼insert_one() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©° ë§¤ê°œë³€ìˆ˜ë¡œ ë”•ì…”ë„ˆë¦¬ë¥¼ ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤.
```
data = ì»¬ë ‰ì…˜.insert_one(ë”•ì…”ë„ˆë¦¬)
```

ë˜í•œ inserted_idë¥¼ ì´ìš©í•´ ì‚½ì…ëœ ë°ì´í„°ì˜ idë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
data.inserted_id
```

```
import pymongo
from pprint import pprint


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# ë”•ì…”ë„ˆë¦¬ ì •ì˜
dic = { 
    "title" : "Romeo and Juliet",
    "author" : "William Shakespeare",
    "data_received" : "2012-04-01"
}

# ë°ì´í„°ë¥¼ ë§Œë“¤ê³  ì‚½ì…í•˜ì„¸ìš”.
data = col.insert_one(dic)

# ì‚½ì…ëœ ë°ì´í„° idë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥í•˜ì„¸ìš”.
pprint(data.inserted_id)
```

## ì—¬ëŸ¬ ë°ì´í„° ì‚½ì…í•˜ê¸°

ì—¬ëŸ¬ ë°ì´í„° ì‚½ì…í•˜ê¸°
ë„ì„œê´€ì— ìƒˆë¡œìš´ ì±…ì´ ë“¤ì–´ì™”ëŠ”ë° ì´ë²ˆì—ëŠ” ê¶Œìˆ˜ê°€ ì¢€ ë§ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë²ˆì—ëŠ” ì—¬ëŸ¬ ì±…ì„ í•œ ë²ˆì— ë°ì´í„°ë² ì´ìŠ¤ì— ì‚½ì…í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

í•œ ë²ˆì— ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ì‚½ì…í•˜ê¸° ìœ„í•´ì„œëŠ” insert_many() í•¨ìˆ˜ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ë˜í•œ ì‚½ì…í•  ë”•ì…”ë„ˆë¦¬ ë°ì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë¬¶ì–´ ë§¤ê°œë³€ìˆ˜ì— ë„˜ê²¨ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
```
data = ì»¬ë ‰ì…˜.insert_many(ë¦¬ìŠ¤íŠ¸)
```

ì‚½ì…ëœ ë°ì´í„°ë“¤ì˜ idë¥¼ í™•ì¸í•˜ë ¤ë©´ **ì»¬ë ‰ì…˜ ê°ì²´ì— inserted_ids**ë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ì²˜ëŸ¼ ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ë©´ ê° idë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
for book_id in data.inserted_ids:
    print(book_id)
```

```
import pymongo
from pprint import pprint


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# ìƒˆë¡œ ë“¤ì–´ì˜¨ ì±…ë“¤ì…ë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ë¡œ ë¬¶ì–´ ì„ ì–¸í•˜ì„¸ìš”.
new_book1 = {"title": "Alice\'s Adventures in Wonderland", "author": "Lewis Carroll", "publisher": "Macmillan", "date_received": "2015-11-26"}
new_book2 = {"title": "The Old Man and the Sea", "author": "Ernest Miller Hemingway","publisher": "Charles Scribner\'s Sons" ,"date_received": "2014-11-02"}
new_book3 = {"title": "The Great Gatsby", "author": "Francis Scott Key Fitzgerald", "date_received": "2019-01-12"}

new_book = [new_book1, new_book2, new_book3]

# ë°ì´í„°ë¥¼ ë§Œë“¤ê³  ì‚½ì…í•˜ì„¸ìš”.
data = col.insert_many(new_book)

# ì‚½ì…ëœ ë°ì´í„° idë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥í•˜ì„¸ìš”.
for book_id in data.inserted_ids:
    pprint(book_id)
```


# MongoDB Update

CRUD ì¤‘ U(Update)íŒŒíŠ¸ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ìƒì„±í•œ ë„íë¨¼íŠ¸ì— ëŒ€í•´ ìˆ˜ì •ì„ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. MongoDBì—ì„œëŠ” ```update_one()```ê³¼ ```update_many()```ë¼ëŠ” ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì • ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.

## 1. update_one()ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì •í•˜ê¸°

update_one()ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¨ì¼ ë„íë¨¼íŠ¸ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ ìœ ì˜í•´ì•¼ í•  ì ì´ìˆìŠµë‹ˆë‹¤. ìˆ˜ì •í•  ë°ì´í„°ëŠ” ë°ì´í„°ë¥¼ ì‚½ì…í•  ë•Œì²˜ëŸ¼ ë”•ì…”ë„ˆë¦¬ë¥¼ ë„£ìœ¼ë©´ ë˜ì§€ë§Œ, ìˆ˜ì • ë‚´ìš©ì€ ```$set``` ì—°ì‚°ìë¥¼ ëª…ì‹œí•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
```
#ë¬¸ë²•
collection.update_one(ìˆ˜ì •í•  ë°ì´í„°, ìˆ˜ì • ë‚´ìš©)
```

```
#ì˜ˆì‹œ) ì£¼ì†Œ "Vally 345"ì—ì„œ "Canyon 123"ìœ¼ë¡œ ìˆ˜ì •

query = { "address": "Valley 345" }
newvalues = { "$set": { "address": "Canyon 123" } }

mycol.update_one(query, newvalues)
```

## 2. update_many()ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì •í•˜ê¸°

ìœ„ update_one()ë©”ì†Œë“œëŠ” í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ìˆ˜ì •í•˜ëŠ” update_many()ë©”ì†Œë“œì— ëŒ€í•´ í•™ìŠµí•˜ê² ìŠµë‹ˆë‹¤.

ë§¤ê°œë³€ìˆ˜ë¡œ ìˆ˜ì •í•  ë°ì´í„°ì™€ ìˆ˜ì • ë‚´ìš©ì„ ë„˜ê²¨ì£¼ì–´ì•¼ í•˜ëŠ”ë°, ìˆ˜ì • ë‚´ìš©ì€ í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ï¼„setì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ update_many()ëŠ” ìˆ˜ì •í•  ë°ì´í„°ê°€ ì—¬ëŸ¬ ê°œì´ë¯€ë¡œ ì •ê·œ í‘œí˜„ì‹ì„ ì´ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì •ê·œ í‘œí˜„ì‹ì„ ì´ìš©í•˜ê¸° ìœ„í•´ì„œ ï¼„regexì—°ì‚°ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```
#ë¬¸ë²•
collection.update_many(ìˆ˜ì •í•  ë°ì´í„°, ìˆ˜ì • ë‚´ìš©)
```

```
#ì˜ˆì‹œ) ì£¼ì†Œê°€ ë¬¸ì"S"ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ë„íë¨¼íŠ¸ ìˆ˜ì •
query = { "address": { "$regex": "^S" } }
newvalues = { "$set": { "name": "Minnie" } }

mycol.update_many(query, newvalues)
```


# MongoDB Delete

CRUD ì¤‘ D(Delete)íŒŒíŠ¸ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ë„íë¨¼íŠ¸ë¥¼ ì§€ìš°ëŠ” ì‘ì—…ì€ ë§¤ìš° ì‹ ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤. MongoDBì—ì„œëŠ” ì´ì „ìœ¼ë¡œ ë˜ëŒë¦¬ëŠ” **ë¡¤ë°± ê¸°ëŠ¥ì´ ì—†ê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤.(ë¡¤ë°±ê³¼ ìœ ì‚¬í•œ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ í•˜ë‚˜ ìˆê¸´ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ì €í¬ëŠ” ì•„ì§ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë‹ˆ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.)(oplog)
deleteOne()ì€ ë§¤ì¹­ë˜ëŠ” ì²«ë²ˆì§¸ ë„íë¨¼íŠ¸ë§Œ ì‚­ì œí•˜ê³ , deleteMany()ëŠ” ë§¤ì¹˜ë˜ëŠ” ëª¨ë“  ë„íë¨¼íŠ¸ë¥¼ ì‚­ì œí•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

## 1. delete_one()ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚­ì œí•˜ê¸°

í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë ¤ë©´ delete_one()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½, ì¿¼ë¦¬ì—ì„œ ë‘ ê°œ ì´ìƒì˜ ë„íë¨¼íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ë©´ ì²« ë²ˆì§¸ í•­ëª©ë§Œ ì‚­ì œë©ë‹ˆë‹¤.
```
#ë¬¸ë²•
ì»¬ë ‰ì…˜.delete_one(ì‚­ì œí•  ë°ì´í„°)
```

```
#ì˜ˆì‹œ) ì£¼ì†Œê°€ "Mountain 21"ì¸ ë„íë¨¼íŠ¸ ì‚­ì œ
query = { "address": "Mountain 21" }

mycol.delete_one(query)
```

## 2. delete_many()ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚­ì œí•˜ê¸°

delete_one()ê³¼ ë‹¤ë¥´ê²Œ ë‘ ê°œ ì´ìƒì˜ ë„íë¨¼íŠ¸ë¥¼ ì‚­ì œí•˜ê³  ì‹¶ì„ ë•Œ delete_many()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```
#ë¬¸ë²•
ì»¬ë ‰ì…˜.delete_many(ì‚­ì œí•  ë°ì´í„°)
```

```
#ì˜ˆì‹œ) ì£¼ì†Œê°€ ë¬¸ì "S"ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ë„íë¨¼íŠ¸ ì‚­ì œ
query = { "address": {"$regex": "^S"} }

mycol.delete_many(query)
```

## ë°ì´í„° ìˆ˜ì •í•˜ê¸°

```
import pymongo


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# ì˜ëª» ì…ë ¥ëœ ì±… ì œëª©ì„ ìˆ˜ì •í•˜ì„¸ìš”.
# ë‘ ë³€ìˆ˜ì— ë°”ê¾¸ê³ ìí•˜ëŠ” ë‚´ìš©ê³¼, ë°”ê¿€ ë‚´ìš©ì„ ì…ë ¥í•˜ì—¬ update_one() ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì¤ë‹ˆë‹¤.
query = { "title": "The Rings of Lord" }
newvalues = { "$set": { "title": "The Lord of the Rings" } }
col.update_one(query, newvalues)

# ì±…ì´ ì˜ ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
for x in col.find():
    print(x)
```

## ì—¬ëŸ¬ ë°ì´í„° ìˆ˜ì •í•˜ê¸°

```
import pymongo


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# ì˜ëª» ì…ë ¥ëœ ì±… ì‘ê°€ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ë¥¼ ë§Œë“œì„¸ìš”.
before = { "title": { "$regex": "^Harry Potter" } }

# ì˜ëª» ì…ë ¥ëœ ì±… ì‘ê°€ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.
update_book = { "$set": { "author": "Joanne Kathleen Rowling" } }
a = col.update_many(before, update_book)

# ëª‡ ê¶Œì˜ ì±…ì´ ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ëª‡ ê°œì˜ ë°ì´í„°ê°€ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ìˆ˜ì • ëœ ê²°ê³¼ë¥¼ ì €ì¥í•œ ë³€ìˆ˜ì— modified_countë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤.
a.modified_count

# ì±…ì´ ì˜ ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
for x in col.find():
    print(x)
```

## í•˜ë‚˜ì˜ ë°ì´í„° ì‚­ì œí•˜ê¸°

```
import pymongo

# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# ì‚¬ë¼ì§„ ì±…ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚­ì œí•˜ì„¸ìš”.
dic = { "title": "Alice's Adventures in Wonderland" }
col.delete_one(dic)


# ì±…ì´ ì˜ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
for x in col.find():
    print(x)
```

## ì—¬ëŸ¬ ë°ì´í„° ì‚­ì œí•˜ê¸°

```
import pymongo


# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
connection = pymongo.MongoClient("mongodb://localhost:27017/")
db = connection["library"]
col = db["books"]

# 2015ë…„ì— ë°›ì€ ì±…ì„ ì‚­ì œí•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ë¥¼ ë§Œë“œì„¸ìš”.
dic = { "date_received": {"$regex": "^2015"} }

# ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ 2015ë…„ë„ì— ë°›ì•˜ë˜ ì±…ë“¤ì„ ì‚­ì œí•˜ì„¸ìš”.
delete_book = col.delete_many(dic)

# ëª‡ ê¶Œì˜ ì±…ì´ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
delete_book.deleted_count

# ì±…ì´ ì˜ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
for x in col.find():
    print(x)
```
